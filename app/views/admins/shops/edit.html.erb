<div class="container">
  <div class="row">
    <div class="col text-center mt-5">
      <h1>ショップ情報編集</h1>
    </div>
  </div>

  <%= form_with model: @shop, url: admins_shop_path(@shop.id), method: :patch, local: true do |f| %>
    <table class="row table mt-3">
      <tr>
        <th><%= f.label :ショップ名 %></th>
        <td><%= f.text_field :shop_name %></td>
      </tr>
      <tr>
        <th><%= f.label :ショップ住所 %></th>
        <td><%= f.text_field :shop_address %></td>
      </tr>
      <tr>
        <th><%= f.label :ショップ詳細 %></th>
        <td><%= f.text_area :shop_detail %></td>
      </tr>
      <tr>
        <th><%= f.label :ショップ画像 %></th>
        <td><%= f. file_field :shop_image %></td>
      </tr>
      <tr>
        <th><%= f.label :ジャンル %></th>
        <td><%= f.select :genre_id, options_from_collection_for_select(Genre.all, :id, :name) %></td>
      </tr>
      <tr>
        <th><%= f.label :評価 %></th>
        <td>
          <%= f.select :status, Shop.statuses.keys %>
          <div id="star<%= @shop.id %>"></div>
        </td>
      </tr>
    </table>
    <script>
      $("#star<%= @shop.id %>").empty();
      $("#star<%= @shop.id %>").raty({
        size: 36,
        starOff: "<%= asset_path("star-off.png") %>",
        starHalf: "<%= asset_path("star-half.png") %>",
        starOn: "<%= asset_path("star-on.png") %>",
        half: true,
        score: <%= @shop.star %>,
        scoreName: 'shop[star]',
      });
    </script>
    <div class="row">
      <%= f. submit "編集完了", class: "btn btn-success" %>
    </div>
  <% end %>
</div>